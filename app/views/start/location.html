{% extends "layout.html" %}

{% block page_title %}
Question page
{% endblock %}

{% if not backLink %}
  {% set backLink = { text: 'Back to start', href: '/'} %}
{% endif %}

{% block content %}

<main id="content" role="main">
  {{macros.betaBanner()}}
  <div class="grid-row">
    <div class="column-full">
      {{ macros.backLink(backLink.text, backLink.href) }}
      {{ macros.h1("Choose your search") }}

      <form action="{% if filtering %}/results{% else %}/start/funding{% endif %}" method="post" class="form">
        <div class="form-group">
          {% set postcodeFields %}
            {{ macros.textbox("postcode-town-or-city", "Postcode, town or city")}}

            <h2 class="heading-medium">Within</h2>
            {% set radfields = [
                {
                  name: '5 miles'
                },
                {
                  name: '10 miles'
                },
                {
                  name: '20 miles'
                },
                {
                  name: '50 miles'
                },
                {
                  name: '100 miles'
                }
              ]
            %}

            {{ macros.radioGroup('radius', radfields) }}
          {% endset %}

          {% set trainingProviderFields %}
            {{ macros.textbox("providerNameInput","Training provider ") }}
          {% endset %}

          {% set fields = [
              {
                name: 'By postcode, town or city',
                more: postcodeFields
              },
              {
                name: 'Across England'
              },
              {
                name: 'By training provider',
                more: trainingProviderFields
              }
            ]
          %}

          {{ macros.radioGroup('location', fields) }}
        </div>

        {% if filtering %}
          {{ macros.submit("Find courses") }}
        {% else %}
          {{ macros.submit("Next") }}
        {% endif %}
      </form>
    </div>
  </div>
</main>

{% endblock %}
